<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>

<!--
   COP2822 0M1
   Module 5
   Chapter 5 battle (rock, paper, scissors)

   Author: Jay Rosen
   Date: 02/11/2015

   File name: battleground.html
   Supporting files: greg.css, gregs_encoder.html, gregs_fortune.html, aboutyou.html, index.html, sign.html, contact.html, greg.html, play_games.html
   Supporting files: images/superhero.jpg, images/wizard.jpg, images/troll.jpg,
-->
	<title>Greg's Gambits | The Battleground</title>
	<link href="greg.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
function battleIt()
{
		var wizardPlay = 0; var trollPlay = 0;
		var wizardPts = 100; var trollPts = 100;
		var rocks = "magic rocks"; var sword = "the sword";
		var arrow = "bow and arrow";
		var wizardChoice = " "; var trollChoice = " "; 
		document.getElementById("trollPts").innerHTML = (trollPts); 
		document.getElementById("wizardPts").innerHTML = (wizardPts);
		document.getElementById("wizardWeapon").innerHTML = ("Your weapon: ");
		document.getElementById("trollWeapon").innerHTML = ("The troll's weapon: ");
		document.getElementById("winner").innerHTML = ("&nbsp;");
		//loop repeats until troll or wizard get 130 points 
		while ((trollPts < 130) && (wizardPts < 130))
		{
			// get wizard's weapon
			wizardPlay = parseInt(prompt("What weapon do you choose? Enter 1 for magic rocks (enter 1), 2 for the sword, or 3 for the bow and arrow: (Enter 4 to leave the game at any time)" , " "));
			if (wizardPlay == 4) break;
	                // get troll's weapon
			trollPlay = Math.floor(Math.random() * 3 + 1);
			// assign weapon to wizard and troll
			 if (trollPlay == 1)
			trollChoice = rocks;
			 if (trollPlay == 2)
			 trollChoice = sword;
			 if (trollPlay == 3)
			trollChoice = arrow;
			 if (wizardPlay == 1)
			 wizardChoice = rocks;
			 if (wizardPlay == 2)
			 wizardChoice = sword;
			 if (wizardPlay == 3)
			 wizardChoice = arrow;
			//display weapon selections
			document.getElementById("wizardWeapon").innerHTML = ("Your weapon: " + wizardChoice);
			document.getElementById("trollWeapon").innerHTML = ("The troll's weapon: " + trollChoice);
			alert("This round of the battle begins now!");
	                //find the winner
			if (((trollPlay == 1)&&(wizardPlay == 3)) || ((trollPlay == 2)&&(wizardPlay == 1)) || ((trollPlay == 3)&&(wizardPlay == 2)))
			 {
					document.getElementById("winner").innerHTML = ("<img src='images/troll.jpg' />");
					trollPts = trollPts + 10;
					wizardPts = wizardPts - 10;
					document.getElementById("trollPts").innerHTML = (trollPts);
					document.getElementById("wizardPts").innerHTML = (wizardPts);
			}
			
			if (((wizardPlay == 1)&&(trollPlay == 3)) || ((wizardPlay == 2)&&(trollPlay == 1)) || ((wizardPlay == 3)&&(trollPlay == 2)))
			{
				document.getElementById("winner").innerHTML = ("<img src='images/wizard.jpg' />");
				trollPts = trollPts - 10;
				wizardPts = wizardPts + 10;
				document.getElementById("trollPts").innerHTML = (trollPts);
				document.getElementById("wizardPts").innerHTML = (wizardPts);
			}
			
			if (((wizardPlay == 1)&&(trollPlay == 1)) || ((wizardPlay == 2)&&(trollPlay == 2)) || ((wizardPlay == 3)&&(trollPlay == 3)))
			{
				document.getElementById("winner").innerHTML = ("This round is a tie. New weapons must be chosen...");
			}
	}
	//display the final winner
	if (wizardPlay == 4)
		document.getElementById("winner").innerHTML = ("It's true: when you run, you live to fight another day. See you again soon!");

	if (trollPts >= 130)
	document.getElementById("winner").innerHTML = ("The battle has been fought valiently but the troll has beaten you. Go home and nurse your wounds.");

	if (wizardPts >= 130)
	document.getElementById("winner").innerHTML = ("The battle has been fought valiently and you have prevailed! Congratulations!");		
}
</script>
<style type="text/css">
<!--
.style1 {font-size: 18px}
-->
</style>
</head>

<body>
<div id="container">
 <img src="images/superhero.jpg" width="120" height="120" class="floatleft" />
 <h1 align="center">The Battleground</h1>
<div style ="clear:both;"></div>  
<div id="nav">
  <p><a href="index.html">Home</a>
  <a href="greg.html">About Greg</a>
  <a href="play_games.html">Play a Game</a>
  <a href="sign.html">Sign In</a>
  <a href="contact.html">Contact Us</a></p>
</div>
<div id="content">
  <table width = "85%" cellpadding="5" cellspacing="0" border = "0">
  <tr><td><img src="images/wizard.jpg" width="120" height="168" /></td>
  <td><img src="images/troll.jpg" width="120" height="168" /></td></tr>
  <tr><td><span class="style1">wizard uses: </span></td>
<td><span class="style1">troll uses: </span></td></tr>
  <tr><td id = "wizardWeapon" span class="style1">Weapon goes here</span></td>
  <td id = "trollWeapon" span class="style1">Weapon goes here</span></td></tr>
  <tr><td colspan = 2><span class="style1">The winner is:</span></td></tr>
 <tr><td colspan = 2 id="winner" align = "center" class="style1">&nbsp;</td></tr>
<tr><td><span class="style1">wizard points: </span></td> 
<td><span class="style1">troll points:</span></td></tr>  
<tr><td class="style1" id = "wizardPts">100</td> <td class="style1" id = "trollPts">100</td></tr>
<tr><td><input type="button" id="battle" value="Let the battle begin!" onclick="battleIt()"; /> </td>
<td><input type="button" id="return" value="Return to battle instructions" onclick="location.href = 'greg_battle.html'"; /></td>
</table>
</div>
<div id="footer">Copyright &copy; 2013 Greg's Gambits<br />
<a href="mailto:yourfirstname@yourlastname.com">yourfirstname@yourlastname.com</a>
</div>
</div>
</body>
</html>
